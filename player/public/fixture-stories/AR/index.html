

<!doctype html>
<html>
  <head>
    <meta name="twitter:card" content="player">
    <meta name="twitter:site" content="@guri_vr">
    <meta name="twitter:title" content="GuriVR - Twitter">
    <meta name="twitter:description" content="">
    <meta name="twitter:player" content="https://s3.amazonaws.com/gurivr/s/7a598157dc4e07ae44d1d0b1.html">
    <meta name="twitter:player:width" content="600">
    <meta name="twitter:player:height" content="370">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>GuriVR - Twitter</title>
    <script src="https://s3.amazonaws.com/gurivr/aframe.min.js"></script>
    <script src="https://s3.amazonaws.com/gurivr/aframe-text-component.min.js"></script>
    <style>
      html, body, #root {
        background-color: #000;
        height: 100vh;
        width: 100vw;
        color: #fff;
        font-size: 1.6em;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <a-scene>
      <a-sky color="#000"></a-sky>
      
  <a-entity class="chapter" visible="true">
    <a-sky src="https://pbs.twimg.com/media/Cm8uHZdXYAAfLv_.jpg:large" />

  </a-entity>

    </a-scene>
    <script>
      
    var times = [5000];
    var chapters = document.querySelectorAll('.chapter');
    var actual = 0;

    function nextChapter() {
      actual++;
      if(actual >= chapters.length) return end();

      chapters[actual - 1].setAttribute('visible', false);
      chapters[actual].setAttribute('visible', true);

      var audio = chapters[actual - 1].querySelector('[sound]');
      if(audio) audio.components.sound.pause();
      var videosphere = chapters[actual - 1].querySelector('a-videosphere');
      if(videosphere) videosphere.pause();

      audio = chapters[actual].querySelector('[sound]');
      if(audio) audio.components.sound.play();
      videosphere = chapters[actual].querySelector('a-videosphere');
      if(videosphere) videosphere.play();

      setTimeout(nextChapter, times[actual] * 1000);
    }

    function end() {
        document.body.innerHTML = '<div id="root" onclick="javascript:window.location = window.location"><p>Click or tap the screen to replay</p></div>';
    }

    setTimeout(nextChapter, times[actual] * 1000);

  
    </script>
  </body>
</html>
